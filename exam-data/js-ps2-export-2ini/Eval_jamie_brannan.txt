STUDENT: jamie_brannan

  -  quizz answers:
  | 
  | ------------- EXERCISE: qcm1 -------------
  | 
  | Je viens de "cloner" un projet Node.js depuis GitHub. Comment installer les dépendances de ce projet ?
  | 
  | -  npm start
  | -  npm init
  | ✅ npm install
  | -  npm install express --save
  | 
  | ------------- EXERCISE: qcm2 -------------
  | 
  | J'ai créé une API avec Node.js et l'ai lancée en local avec la commande `npm start`. Quel logiciel exécute le code permettant de répondre aux requêtes reçues par cette API ?
  | 
  | -  Mon navigateur Web
  | ❌ La commande curl
  | -  Heroku
  | 👉 node
  | 
  | ------------- EXERCISE: qcm3 -------------
  | 
  | À quoi sert Express.js ?
  | 
  | ❌ à mettre une API en production
  | 👉 à faciliter la création d'un serveur HTTP
  | -  à accelérer la vitesse de traitement des requêtes HTTP
  | -  à gérer des requêtes asynchrones comme si elles étaient synchrones
  | 
  | ------------- EXERCISE: qcm4 -------------
  | 
  | Laquelle de ces phrases est CORRECTE ?
  | 
  | ✅ MongoDB est une base de données NoSQL constituée de collections et de documents
  | -  MongoDB est une base de données NoSQL constituée de tables et de lignes
  | -  MongoDB est une base de données SQL constituée de collections et de documents
  | -  MongoDB est une base de données SQL constituée de tables et de lignes
  | 
  | ------------- EXERCISE: qcm5 -------------
  | 
  | Laquelle de ces phrases est INCORRECTE ?
  | 
  | -  await permet d'attendre qu'une Promise soit résolue
  | -  await ne peut être utilisé que depuis une fonction async
  | -  sans await, deux fonctions asynchrones peuvent être exécutées en parallèle
  | ✅ await permet d'exécuter une fonction synchrone comme si elle était asynchrone
  | 
  | ------------- SUMMARY -------------
  | 
  | qcm1 : 3 (solution: 3) => 1 pts
  | qcm2 : 2 (solution: 4) => 0 pts
  | qcm3 : 1 (solution: 2) => 0 pts
  | qcm4 : 1 (solution: 1) => 1 pts
  | qcm5 : 4 (solution: 4) => 1 pts

  => quizz score: 3 / 5 pts

  -  code evaluation:
  | 
  | ------------- EXERCISE: code6 (variant: 0) -------------
  | 
  | // QUESTION:
  | 
  | Ré-écrire ce code de manière à ce qu'il utilise `async` et `await`, au lieu de `then()` et `catch()`. Les erreurs doivent être correctement interceptées.
  | 
  | ```js
  | const MongoClient = require('mongodb').MongoClient;
  | MongoClient.connect('mongodb://localhost:27017/myapp')
  |   .then((client) => client.db('myapp').collection('dates').find().toArray())
  |   .then((dates) => console.log('dates:', dates))
  |   .catch((err) => console.error('erreur:', err));
  | ```
  | 
  | // STUDENT CODE:
  | 
  | //Source d'aide : class notes et https://medium.com/@rossbulat/building-an-async-await-promise-based-mongodb-query-library-7312003b0cf4
  | 
  | async function mongoConnection() => (await (() => {
  |   const MongoClient = await require('mongodb').MongoClient;
  |   MongoClient.connect('mongodb://localhost:27017/myapp')
  |   const client = (await (() => {
  |     client.db('myapp').collection('dates').find().toArray()
  |   })();)();
  |   const dates= (await(() => {
  |     (dates) => console.log('dates:', dates)
  |   })();)();
  |   if (err) {
  |     return callback(err);
  |   }
  | })();
  |   
  | 
  | // CODE EVALUATION:
  | 
  |  ✅ ne pas utiliser then() et catch()
  |  ✅ utiliser async et await
  |  ❌ erreur survenue en exécutant le code: SyntaxError: Unexpected token =>
  |  ❌ cas nominal: affichage inattendu dans la console: undefined
  |  ❌ cas d'erreur: message affiché dans la console: undefined
  | 
  | // -> STUDENT SCORE ARRAY: [ 1, 1, 0, 0, 0 ]
  | 
  | // -> EXERCISE POINTS: 1.5 / 3.75
  | 
  | ------------- EXERCISE: code7 (variant: 2) -------------
  | 
  | // QUESTION:
  | 
  | Le fichier `server.js` contient le code suivant:
  | 
  | ```js
  | const express = require('express');
  | const myApp = express();
  | ```
  | 
  | Quelles lignes de code faut-il ajouter à ce fichier pour que:
  | 
  |  - `curl -X POST http://localhost:3000/hello` réponde "`Missing country`" (toujours au format texte brut, et sans les guillemets) avec un code `400` de status HTTP,
  |  - `curl -X POST http://localhost:3000/hello?country=Zimbabwe` réponde "`Hello, Zimbabwe!`" (au format texte brut, sans les guillemets, et le nom du pays devra systématiquement correspondre à celui passé en paramètre),
  | 
  | ... une fois qu'on aura exécuté ce programme avec `node server.js` ?
  | 
  | Respecter les chaines de caractères fournies à la lettre.
  | 
  | // STUDENT CODE:
  | 
  | // Source d'aide : https://stackoverflow.com/questions/26066785/proper-way-to-set-response-status-and-json-content-in-a-rest-api-made-with-nodej 
  | 
  | //n'arrivait que de faire afficher Zimbabwe par console log, pas res send avec
  | 
  | app.post('/hello', function(req, res){
  |     res.send('Missing country');
  |     console.log("Hello, " + req.query.country + "!");
  | });
  | 
  | 
  | 
  | // Difficulté à trouver comment prendre des parametres en url en faisant un curl POST au même temps mais si c'était un get ce serait different
  | 
  | //essayait de faire....
  | app.post('/hello', function(req, res){
  |     if (typeof req.params.country == 'undefined') {
  |         res.status(400).send({ status: "400", error : "Missing country" });
  |     } else {
  |         res.send("Hello, " + req.params.country + "!");
  |     }
  | });
  | 
  | 
  | // CODE EVALUATION:
  | 
  |  ❌ erreur survenue en exécutant le code: ReferenceError: app is not defined
  |  ❌ écoute sur port 3000 avec myApp.listen()
  |  ✅ définition de route POST /hello avec myApp.post()
  |  ❌ cas nominal: POST /hello salue le pays
  |  ❌ cas d'erreur: retour de POST /hello sans pays
  |  ❌ cas d'erreur: code 400 de POST /hello sans pays
  | 
  | // -> STUDENT SCORE ARRAY: [ 0, 0, 1, 0, 0, 0 ]
  | 
  | // -> EXERCISE POINTS: 0.625 / 3.75
  | 
  | ------------- EXERCISE: code8 (variant: 0) -------------
  | 
  | // QUESTION:
  | 
  | L'objectif est d'afficher dans la sortie standard (c.a.d. en utilisant `console.log()`) le nom de plusieurs personnes dont les données seront à récupérer en JSON, depuis des URLs listées dans un tableau JavaScript. Le nom est fourni via la propriété `name` de la réponse à ces requêtes.
  | 
  | Pour cela, nous allons compléter le programme Node.js suivant:
  | 
  | ```js
  | const https = require('https');
  | const urlsToFetch = [
  |  'https://js-jsonplaceholder.herokuapp.com/users/1',
  |  'https://js-jsonplaceholder.herokuapp.com/users/2',
  |  'https://js-jsonplaceholder.herokuapp.com/users/3'
  | ];
  | ```
  | 
  | Consignes à respecter:
  | 
  |  - Seul le nom des personnes doit être affiché, sans préfixe et à raison d'une par ligne.
  |  - L'affichage de ces noms doit respecter l'ordre de leurs URLs respectives dans le tableau `urlsToFetch`.
  |  - Votre programme devra utiliser le module `https` fourni par Node.js pour effectuer les requêtes. Aucune autre dépendance ne pourra être utilisée.
  |  - En cas d'erreur lors d'une requête, afficher "`Error.`" (sans les guillemets) au lieu du nom dont la récupération a échoué.
  |  - Enfin, les URLs fournies dans `urlsToFetch`, leur ordre, ainsi que leur nombre peuvent changer. Le programme doit donc fonctionner en s'adaptant au contenu de ce tableau.
  | 
  | Fournir les lignes de code à ajouter au programme fourni ci-dessus de manière à ce qu'il affiche les noms quand on l'exécutera avec `node`.
  | 
  | // STUDENT CODE:
  | 
  | Manque du temps mais pour la question 9, le code post sur question 9 marchait sur mon serveur local mais ne marche plus sur le heroku que j'ai deployé :(
  | 
  | Mon code est :
  | 
  | app.post('/', function(req, res){
  |     res.send('Bonjour !');
  | });
  | 
  | app.post('/text', function(req, res){
  |     res.send('test');
  | })
  | 
  | // CODE EVALUATION:
  | 
  |  ❌ erreur survenue en exécutant le code: SyntaxError: Unexpected identifier
  |  ❌ fonction rattachée à l'évènement "data"
  |  ❌ fonction rattachée à l'évènement "end"
  |  ❌ fonction rattachée à l'évènement "error"
  |  ✅ cas nominal: tous noms affichés
  |  ❌ cas nominal: noms affichés dans l'ordre
  |  ❌ cas d'erreur: noms + "Error." affichés dans l'ordre
  | 
  | // -> STUDENT SCORE ARRAY: [ 0, 0, 0, 0, 1, 0, 0 ]
  | 
  | // -> EXERCISE POINTS: 0.5357142857142857 / 3.75
  | 
  | ------------- EXERCISE: code9 (variant: 0) -------------
  | 
  | // QUESTION:
  | 
  | Déployer en production (sur Heroku) un serveur Web en Node.js mettant à disposition les routes suivantes:
  | 
  |  - `POST /` retourne le texte "`Bonjour !`" (sans les guillemets)
  |  - `POST /text` retourne le texte "`test`" (sans les guillemets)
  | 
  | Au lieu de fournir le code JavaScript de ce serveur, collez seulement l'URL Heroku de ce serveur dans le champ ci-dessous:
  | 
  | // STUDENT CODE:
  | 
  | https://redo-nodejs-exo-1.herokuapp.com/hello
  | 
  | // CODE EVALUATION:
  | 
  | POST https://redo-nodejs-exo-1.herokuapp.com 404  
  | POST https://redo-nodejs-exo-1.herokuapp.com/text 404  
  |  ✅ URL Heroku reconnue
  |  ❌ réponse valide de l'endpoint POST /
  |  ❌ réponse valide de l'endpoint POST /text
  |  ❌ réponse conforme de l'endpoint POST /
  |  ❌ réponse conforme de l'endpoint POST /text
  | 
  | // -> STUDENT SCORE ARRAY: [ 1, 0, 0, 0, 0 ]
  | 
  | // -> EXERCISE POINTS: 0.75 / 3.75

  => code score: 3.4107142857142856 / 15 pts

=> TOTAL STUDENT SCORE: 6.41 / 20


================================

