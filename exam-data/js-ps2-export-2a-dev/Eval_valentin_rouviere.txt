STUDENT: valentin_rouviere

  -  quizz answers:
  | 
  | ------------- EXERCISE: qcm1 -------------
  | 
  | J'ai crÃ©Ã© une API avec Node.js et l'ai mise en production sur Heroku. OÃ¹ s'exÃ©cute le code permettant de rÃ©pondre aux requÃªtes reÃ§ues par cette API ?
  | 
  | -  Dans le navigateur
  | -  Dans la commande curl
  | âœ… Sur un des serveurs de Heroku
  | -  Sur GitLab
  | 
  | ------------- EXERCISE: qcm2 -------------
  | 
  | Je viens de "cloner" un projet Node.js depuis GitHub. Comment installer les dÃ©pendances de ce projet ?
  | 
  | -  npm start
  | ðŸ‘‰ npm install
  | -  npm init
  | âŒ npm install express --save
  | 
  | ------------- EXERCISE: qcm3 -------------
  | 
  | Laquelle de ces phrases est CORRECTE ?
  | 
  | âŒ MongoDB est une base de donnÃ©es SQL constituÃ©e de collections et de documents
  | -  MongoDB est une base de donnÃ©es SQL constituÃ©e de tables et de lignes
  | ðŸ‘‰ MongoDB est une base de donnÃ©es NoSQL constituÃ©e de collections et de documents
  | -  MongoDB est une base de donnÃ©es NoSQL constituÃ©e de tables et de lignes
  | 
  | ------------- EXERCISE: qcm4 -------------
  | 
  | Ã€ quoi sert Express.js ?
  | 
  | âœ… Ã  faciliter la crÃ©ation d'un serveur HTTP
  | -  Ã  accelÃ©rer la vitesse de traitement des requÃªtes HTTP
  | -  Ã  gÃ©rer des requÃªtes asynchrones comme si elles Ã©taient synchrones
  | -  Ã  mettre une API en production
  | 
  | ------------- EXERCISE: qcm5 -------------
  | 
  | Laquelle de ces phrases est INCORRECTE ?
  | 
  | -  await permet d'attendre qu'une Promise soit rÃ©solue
  | -  await ne peut Ãªtre utilisÃ© que depuis une fonction async
  | âœ… await permet d'exÃ©cuter une fonction synchrone comme si elle Ã©tait asynchrone
  | -  sans await, deux fonctions asynchrones peuvent Ãªtre exÃ©cutÃ©es en parallÃ¨le
  | 
  | ------------- SUMMARY -------------
  | 
  | qcm1 : 3 (solution: 3) => 1 pts
  | qcm2 : 4 (solution: 2) => 0 pts
  | qcm3 : 1 (solution: 3) => 0 pts
  | qcm4 : 1 (solution: 1) => 1 pts
  | qcm5 : 3 (solution: 3) => 1 pts

  => quizz score: 3 / 5 pts

  -  code evaluation:
  | 
  | ------------- EXERCISE: code6 (variant: 3) -------------
  | 
  | // QUESTION:
  | 
  | RÃ©-Ã©crire ce code de maniÃ¨re Ã  ce qu'il utilise `async` et `await`, au lieu de `then()` et `catch()`. Les erreurs doivent Ãªtre correctement interceptÃ©es.
  | 
  | ```js
  | const MongoClient = require('mongodb').MongoClient;
  | MongoClient.connect('mongodb://localhost:27017/cats')
  |   .then(function (client) {
  |     return client.db('cats').collection('types').find().toArray();
  |   })
  |   .then(function (dates) {
  |     console.log('types:', dates);
  |   })
  |   .catch(function (err) {
  |     console.error('erreur:', err);
  |   });
  | ```
  | 
  | // STUDENT CODE:
  | 
  | const MongoClient = require('mongodb').MongoClient;
  | const MONGODB_URL = process.env.MONGOLAB_WHITE_URI  || 'mongodb://localhost:27017/cats';
  | 
  | const client = new MongoClient(MONGODB_URL,{
  | useNewUrlParser: true
  | });
  | 
  | let coll
  | 
  | (async () => {
  |    try{
  |      await client.connect();
  |       const db = client.db(dbcats);
  |       coll = db.collection('types');
  |  
  |    }catch(err) {
  |      console.error(err.stack);
  |    }
  | });
  | 
  | // CODE EVALUATION:
  | 
  |  âœ… ne pas utiliser then() et catch()
  |  âœ… utiliser async et await
  |  âŒ erreur survenue en exÃ©cutant le code: ReferenceError: process is not defined
  |  âŒ cas nominal: affichÃ© inattendu dans la console: undefined
  |  âŒ cas d'erreur: message affichÃ© dans la console: undefined
  | 
  | // -> STUDENT SCORE ARRAY: [ 1, 1, 0, 0, 0 ]
  | 
  | // -> EXERCISE POINTS: 1.5 / 3.75
  | 
  | ------------- EXERCISE: code7 (variant: 2) -------------
  | 
  | // QUESTION:
  | 
  | Le fichier `index.js` contient le code suivant:
  | 
  | ```js
  | const express = require('express');
  | const myApp = express();
  | ```
  | 
  | Quelles lignes de code faut-il ajouter Ã  ce fichier pour que:
  | 
  |  - `curl http://localhost:3000/hello?prenom=Michelle` rÃ©ponde "`Hello Michelle`" (au format texte brut, sans les guillemets, et le prÃ©nom devra systÃ©matiquement correspondre Ã  celui passÃ© en paramÃ¨tre),
  |  - `curl http://localhost:3000/hello` rÃ©ponde "`PrÃ©nom manquant`" (toujours au format texte brut, et sans les guillemets) avec un code `400` de status HTTP,
  | 
  | ... une fois qu'on aura exÃ©cutÃ© ce programme avec `node index.js` ?
  | 
  | Respecter les chaines de caractÃ¨res fournies Ã  la lettre.
  | 
  | // STUDENT CODE:
  | 
  | app.post('/hello{prenom}', (_req, res) => {
  |   console.log(req.body);
  |   if ( req.body.prenom == 'Hello Michelle'){
  |     res.send('Hello Michelle');
  |   } else if ( req.body.msg == empty){
  |     res.send('PrÃ©nom manquant');
  |   }  
  | });
  | 
  | // CODE EVALUATION:
  | 
  |  âŒ erreur survenue en exÃ©cutant le code: ReferenceError: app is not defined
  |  âŒ Ã©coute sur port 3000 avec myApp.listen()
  |  âœ… dÃ©finition de route GET /hello avec myApp.get()
  |  âŒ cas nominal: GET /hello retourne le prÃ©nom
  |  âŒ cas d'erreur: retour de GET /hello sans prÃ©nom
  |  âŒ cas d'erreur: code 400 de GET /hello sans prÃ©nom
  | 
  | // -> STUDENT SCORE ARRAY: [ 0, 0, 1, 0, 0, 0 ]
  | 
  | // -> EXERCISE POINTS: 0.625 / 3.75
  | 
  | ------------- EXERCISE: code8 (variant: 1) -------------
  | 
  | // QUESTION:
  | 
  | L'objectif est d'afficher dans la sortie standard (c.a.d. en utilisant `console.log()`) l'adresse email de plusieurs personnes dont les donnÃ©es seront Ã  rÃ©cupÃ©rer en JSON, depuis des URLs listÃ©es dans un tableau JavaScript. L'adresse email est fournie via la propriÃ©tÃ© `email` de la rÃ©ponse Ã  ces requÃªtes.
  | 
  | Pour cela, nous allons complÃ©ter le programme Node.js suivant:
  | 
  | ```js
  | const https = require('https');
  | const urlsToFetch = [
  |  'https://js-jsonplaceholder.herokuapp.com/users/3',
  |  'https://js-jsonplaceholder.herokuapp.com/users/2',
  |  'https://js-jsonplaceholder.herokuapp.com/users/1'
  | ];
  | ```
  | 
  | Consignes Ã  respecter:
  | 
  |  - Seules les adresses email doivent Ãªtre affichÃ©es, sans prÃ©fixe et Ã  raison d'une par ligne.
  |  - L'affichage de ces adresses doit respecter l'ordre de leurs URLs respectives dans le tableau `urlsToFetch`.
  |  - Votre programme devra utiliser le module `https` fourni par Node.js pour effectuer les requÃªtes. Aucune autre dÃ©pendance ne pourra Ãªtre utilisÃ©e.
  |  - En cas d'erreur lors d'une requÃªte, afficher "`oops!`" (sans les guillemets) au lieu de l'adresse email dont la rÃ©cupÃ©ration a Ã©chouÃ©.
  |  - Enfin, les URLs fournies dans `urlsToFetch`, leur ordre, ainsi que leur nombre peuvent changer. Le programme doit donc fonctionner en s'adaptant au contenu de ce tableau.
  | 
  | Fournir les lignes de code Ã  ajouter au programme fourni ci-dessus de maniÃ¨re Ã  ce qu'il affiche les adresses email quand on l'exÃ©cutera avec `node`.
  | 
  | // WARNING: NO STUDENT CODE => skipping
  | 
  | // -> EXERCISE POINTS: 0 / 3.75
  | 
  | ------------- EXERCISE: code9 (variant: 3) -------------
  | 
  | // QUESTION:
  | 
  | DÃ©ployer en production (sur Heroku) un serveur Web en Node.js mettant Ã  disposition les routes suivantes:
  | 
  |  - `GET /` retourne le texte "`Bonjour !`" (sans les guillemets)
  |  - `GET /text` retourne le texte "`ceci est un texte`" (sans les guillemets)
  | 
  | Au lieu de fournir le code JavaScript de ce serveur, collez seulement l'URL Heroku de ce serveur dans le champ ci-dessous:
  | 
  | // STUDENT CODE:
  | 
  | https://immense-woodland-63128.herokuapp.com/
  | 
  | // CODE EVALUATION:
  | 
  |  âœ… URL Heroku reconnue
  |  âœ… rÃ©ponse valide de l'endpoint GET /
  |  âœ… rÃ©ponse valide de l'endpoint GET /text
  |  âœ… rÃ©ponse conforme de l'endpoint GET /
  |  âœ… rÃ©ponse conforme de l'endpoint GET /text
  | 
  | // -> STUDENT SCORE ARRAY: [ 1, 1, 1, 1, 1 ]
  | 
  | // -> EXERCISE POINTS: 3.75 / 3.75

  => code score: 5.875 / 15 pts

=> TOTAL STUDENT SCORE: 8.88 / 20
